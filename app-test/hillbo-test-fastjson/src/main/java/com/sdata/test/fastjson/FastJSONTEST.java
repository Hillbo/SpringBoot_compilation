package com.sdata.test.fastjson;

import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONArray;
import com.alibaba.fastjson.JSONObject;
import com.alibaba.fastjson.TypeReference;
import com.alibaba.fastjson.parser.ParserConfig;
import com.alibaba.fastjson.serializer.SerializerFeature;

import java.lang.reflect.Type;
import java.util.List;
import java.util.Map;

public class FastJSONTEST {


    public static void main(String[] args) {


        String jsonStr = "[{\"assetVersion\":\"1.0\",\"asset_cata\":1,\"asset_id\":\"77e82ce6-3c81-03d2-9fff-23e4d70a4127\",\"asset_name\":\"sheet\",\"asset_owner\":\"self\",\"asset_type\":102,\"association_count\":0,\"auth_type\":\"private\",\"catalog_id\":\"db22213d-6c94-6a58-d6bf-58dc7cfa211e\",\"column_count\":12,\"create_member\":\"1234567890\",\"create_member_name\":\"超级管理员\",\"create_time\":1710404621000,\"execute_smart_recommend\":0,\"favorite\":0,\"judgeApp\":0,\"last_modify_time\":1710404621000,\"mapping_flag\":0,\"maxIndex\":0,\"model_type\":\"modelCollection\",\"office_id\":\"private\",\"owner\":0,\"quality_mapping_flag\":0,\"records_count\":-1,\"rid\":0,\"schedule_count\":0,\"source_id\":\"7ebe0dbf-ca8b-3f9a-9864-4b4b24595210\",\"source_type\":0,\"sql_asset_flag\":0,\"structures\":[]},{\"assetVersion\":\"1.0\",\"asset_cata\":1,\"asset_id\":\"e45ec694-e69d-8c04-2fe7-0db70eaacbbb\",\"asset_name\":\"lw_api资产\",\"asset_owner\":\"self\",\"asset_type\":300,\"association_count\":0,\"auth_type\":\"private\",\"catalog_id\":\"a26271ca-bc65-e999-d1ea-6e82e8727004\",\"column_count\":3,\"create_member\":\"1234567890\",\"create_member_name\":\"超级管理员\",\"create_time\":1709628300000,\"execute_smart_recommend\":0,\"favorite\":0,\"judgeApp\":0,\"last_modify_time\":1709628300000,\"mapping_flag\":0,\"maxIndex\":0,\"office_id\":\"private\",\"owner\":0,\"quality_mapping_flag\":0,\"records_count\":-1,\"rid\":0,\"schedule_count\":0,\"source_id\":\"6b8da36c-b022-6480-0c3c-0c7b39f45040\",\"source_type\":0,\"sql_asset_flag\":0,\"structures\":[]},{\"assetVersion\":\"5.0\",\"asset_cata\":1,\"asset_id\":\"37f0ccc0-b49d-a044-2736-6e446a482fdf\",\"asset_name\":\"作品详情\",\"asset_owner\":\"self\",\"asset_type\":300,\"association_count\":0,\"auth_type\":\"private\",\"catalog_id\":\"ab142af6-0a19-70b2-41ad-ba16638785e8\",\"column_count\":32,\"create_member\":\"1234567890\",\"create_member_name\":\"超级管理员\",\"create_time\":1708334127000,\"execute_smart_recommend\":0,\"favorite\":0,\"judgeApp\":0,\"last_modify_time\":1709541128000,\"mapping_flag\":0,\"maxIndex\":0,\"office_id\":\"private\",\"owner\":0,\"quality_mapping_flag\":0,\"records_count\":-1,\"rid\":0,\"schedule_count\":0,\"source_id\":\"4ce8690a-5aac-3c75-afef-5348a362c2f2\",\"source_type\":0,\"sql_asset_flag\":0,\"structures\":[]},{\"assetVersion\":\"3.0\",\"asset_cata\":1,\"asset_id\":\"5a5454c0-43c6-4ebf-bbd6-bcbaaa891965\",\"asset_name\":\"t_zppx_shouchang_db\",\"asset_owner\":\"self\",\"asset_type\":102,\"association_count\":0,\"auth_type\":\"private\",\"catalog_id\":\"ab142af6-0a19-70b2-41ad-ba16638785e8\",\"column_count\":15,\"create_member\":\"1234567890\",\"create_member_name\":\"超级管理员\",\"create_time\":1708324567000,\"execute_smart_recommend\":0,\"favorite\":0,\"judgeApp\":0,\"last_modify_time\":1709535326000,\"mapping_flag\":0,\"maxIndex\":0,\"office_id\":\"private\",\"owner\":0,\"quality_mapping_flag\":0,\"records_count\":-1,\"rid\":0,\"schedule_count\":0,\"source_id\":\"dff366d2-1c97-78a5-8e84-f1f5c235cc53\",\"source_type\":0,\"sql_asset_flag\":0,\"structures\":[]},{\"assetVersion\":\"1.0\",\"asset_cata\":1,\"asset_id\":\"4b812033-4134-4eac-b83a-827047420f3e\",\"asset_name\":\"数据测试\",\"asset_owner\":\"self\",\"asset_type\":202,\"association_count\":0,\"auth_type\":\"private\",\"catalog_id\":\"cfca7c37-52cb-4b68-fcc4-851ebf21a15a\",\"column_count\":2,\"create_member\":\"1234567890\",\"create_member_name\":\"超级管理员\",\"create_time\":1709518705000,\"execute_smart_recommend\":0,\"favorite\":0,\"judgeApp\":0,\"last_modify_time\":1709518808000,\"mapping_flag\":0,\"maxIndex\":0,\"office_id\":\"private\",\"owner\":0,\"quality_mapping_flag\":0,\"records_count\":5,\"rid\":0,\"schedule_count\":0,\"source_id\":\"cloudtable\",\"source_type\":0,\"sql_asset_flag\":0,\"structures\":[]},{\"assetVersion\":\"4.0\",\"asset_cata\":1,\"asset_id\":\"6136d163-9f45-bf8e-8aa8-7e440dbea3a0\",\"asset_name\":\"作品提交进展\",\"asset_owner\":\"self\",\"asset_type\":102,\"association_count\":0,\"auth_type\":\"private\",\"catalog_id\":\"ab142af6-0a19-70b2-41ad-ba16638785e8\",\"column_count\":10,\"create_member\":\"1234567890\",\"create_member_name\":\"超级管理员\",\"create_time\":1708323076000,\"execute_smart_recommend\":0,\"favorite\":0,\"judgeApp\":0,\"last_modify_time\":1709193105000,\"mapping_flag\":0,\"maxIndex\":0,\"model_type\":\"modelCollection\",\"office_id\":\"private\",\"owner\":0,\"quality_mapping_flag\":0,\"records_count\":-1,\"rid\":0,\"schedule_count\":0,\"source_id\":\"dff366d2-1c97-78a5-8e84-f1f5c235cc53\",\"source_type\":0,\"sql_asset_flag\":0,\"structures\":[]},{\"assetVersion\":\"2.0\",\"asset_cata\":1,\"asset_id\":\"d4187f1f-997d-4c7e-b11b-83d8ce743f6e\",\"asset_name\":\"t_zppx_xuesheng_db\",\"asset_owner\":\"self\",\"asset_type\":102,\"association_count\":0,\"auth_type\":\"private\",\"catalog_id\":\"ab142af6-0a19-70b2-41ad-ba16638785e8\",\"column_count\":15,\"create_member\":\"1234567890\",\"create_member_name\":\"超级管理员\",\"create_time\":1709086390000,\"execute_smart_recommend\":0,\"favorite\":0,\"judgeApp\":0,\"last_modify_time\":1709188733000,\"mapping_flag\":0,\"maxIndex\":0,\"office_id\":\"private\",\"owner\":0,\"quality_mapping_flag\":0,\"records_count\":-1,\"rid\":0,\"schedule_count\":0,\"source_id\":\"dff366d2-1c97-78a5-8e84-f1f5c235cc53\",\"source_type\":0,\"sql_asset_flag\":0,\"structures\":[]},{\"assetVersion\":\"3.0\",\"asset_cata\":1,\"asset_id\":\"83ba1100-74c5-92ab-6308-b84d880f255b\",\"asset_name\":\"学校下的年级班级\",\"asset_owner\":\"self\",\"asset_type\":102,\"association_count\":0,\"auth_type\":\"private\",\"catalog_id\":\"8c4712c2-6aca-4491-9482-0f4fa892312b\",\"column_count\":6,\"create_member\":\"1234567890\",\"create_member_name\":\"超级管理员\",\"create_time\":1703750046000,\"execute_smart_recommend\":0,\"favorite\":0,\"judgeApp\":0,\"last_modify_time\":1709119881000,\"mapping_flag\":0,\"maxIndex\":0,\"model_type\":\"modelCollection\",\"office_id\":\"private\",\"owner\":0,\"quality_mapping_flag\":0,\"records_count\":-1,\"rid\":0,\"schedule_count\":0,\"source_id\":\"a2301afc9e1045f9b4ab37a015d32689\",\"source_type\":0,\"sql_asset_flag\":0,\"structures\":[]},{\"assetVersion\":\"6.0\",\"asset_cata\":1,\"asset_id\":\"f0fd00ca-4267-4490-8417-ff7695f84e10\",\"asset_name\":\"t_zppx_xstp_db\",\"asset_owner\":\"self\",\"asset_type\":102,\"association_count\":0,\"auth_type\":\"private\",\"catalog_id\":\"ab142af6-0a19-70b2-41ad-ba16638785e8\",\"column_count\":15,\"create_member\":\"1234567890\",\"create_member_name\":\"超级管理员\",\"create_time\":1707118987000,\"execute_smart_recommend\":0,\"favorite\":0,\"judgeApp\":0,\"last_modify_time\":1709086176000,\"mapping_flag\":0,\"maxIndex\":0,\"office_id\":\"private\",\"owner\":0,\"quality_mapping_flag\":0,\"records_count\":-1,\"rid\":0,\"schedule_count\":0,\"source_id\":\"dff366d2-1c97-78a5-8e84-f1f5c235cc53\",\"source_type\":0,\"sql_asset_flag\":0,\"structures\":[]},{\"assetVersion\":\"8.0\",\"asset_cata\":1,\"asset_id\":\"d1e1baee-5e28-f9d7-7d01-3cd8f02f732f\",\"asset_name\":\"评选活动列表\",\"asset_owner\":\"self\",\"asset_type\":102,\"association_count\":0,\"auth_type\":\"private\",\"catalog_id\":\"ab142af6-0a19-70b2-41ad-ba16638785e8\",\"column_count\":27,\"create_member\":\"1234567890\",\"create_member_name\":\"超级管理员\",\"create_time\":1708324932000,\"execute_smart_recommend\":0,\"favorite\":0,\"judgeApp\":0,\"last_modify_time\":1709023833000,\"mapping_flag\":0,\"maxIndex\":0,\"model_type\":\"modelCollection\",\"office_id\":\"private\",\"owner\":0,\"quality_mapping_flag\":0,\"records_count\":-1,\"rid\":0,\"schedule_count\":0,\"source_id\":\"dff366d2-1c97-78a5-8e84-f1f5c235cc53\",\"source_type\":0,\"sql_asset_flag\":0,\"structures\":[]},{\"assetVersion\":\"4.0\",\"asset_cata\":1,\"asset_id\":\"9d9c4b5c-ffa6-fb56-9a05-fcaaa0f593c5\",\"asset_name\":\"家长学生\",\"asset_owner\":\"self\",\"asset_type\":102,\"association_count\":0,\"auth_type\":\"private\",\"catalog_id\":\"ab142af6-0a19-70b2-41ad-ba16638785e8\",\"column_count\":67,\"create_member\":\"1234567890\",\"create_member_name\":\"超级管理员\",\"create_time\":1706003616000,\"execute_smart_recommend\":0,\"favorite\":0,\"judgeApp\":0,\"last_modify_time\":1708997879000,\"mapping_flag\":0,\"maxIndex\":0,\"model_type\":\"modelCollection\",\"office_id\":\"private\",\"owner\":0,\"quality_mapping_flag\":0,\"records_count\":-1,\"rid\":0,\"schedule_count\":0,\"source_id\":\"a2301afc9e1045f9b4ab37a015d32689\",\"source_type\":0,\"sql_asset_flag\":0,\"structures\":[]},{\"assetVersion\":\"2.0\",\"asset_cata\":1,\"asset_id\":\"d5f0cae5-7de3-89c3-d71e-f00aa96407ff\",\"asset_name\":\"已投票学生\",\"asset_owner\":\"self\",\"asset_type\":102,\"association_count\":0,\"auth_type\":\"private\",\"catalog_id\":\"ab142af6-0a19-70b2-41ad-ba16638785e8\",\"column_count\":4,\"create_member\":\"1234567890\",\"create_member_name\":\"超级管理员\",\"create_time\":1708677081000,\"execute_smart_recommend\":0,\"favorite\":0,\"judgeApp\":0,\"last_modify_time\":1708677430000,\"mapping_flag\":0,\"maxIndex\":0,\"model_type\":\"modelCollection\",\"office_id\":\"private\",\"owner\":0,\"quality_mapping_flag\":0,\"records_count\":-1,\"rid\":0,\"schedule_count\":0,\"source_id\":\"dff366d2-1c97-78a5-8e84-f1f5c235cc53\",\"source_type\":0,\"sql_asset_flag\":0,\"structures\":[]},{\"assetVersion\":\"4.0\",\"asset_cata\":1,\"asset_id\":\"c004c5fe-3475-1fff-4f24-f330f3d96a43\",\"asset_name\":\"活动学生提交数\",\"asset_owner\":\"self\",\"asset_type\":102,\"association_count\":0,\"auth_type\":\"private\",\"catalog_id\":\"ab142af6-0a19-70b2-41ad-ba16638785e8\",\"column_count\":3,\"create_member\":\"1234567890\",\"create_member_name\":\"超级管理员\",\"create_time\":1708309915000,\"execute_smart_recommend\":0,\"favorite\":0,\"judgeApp\":0,\"last_modify_time\":1708322363000,\"mapping_flag\":0,\"maxIndex\":0,\"model_type\":\"modelCollection\",\"office_id\":\"private\",\"owner\":0,\"quality_mapping_flag\":0,\"records_count\":-1,\"rid\":0,\"schedule_count\":0,\"source_id\":\"dff366d2-1c97-78a5-8e84-f1f5c235cc53\",\"source_type\":0,\"sql_asset_flag\":0,\"structures\":[]},{\"assetVersion\":\"4.0\",\"asset_cata\":1,\"asset_id\":\"8c52c423-5f5d-4915-9749-474565676fb6\",\"asset_name\":\"t_zppx_pfls_bd\",\"asset_owner\":\"self\",\"asset_type\":102,\"association_count\":0,\"auth_type\":\"private\",\"catalog_id\":\"ab142af6-0a19-70b2-41ad-ba16638785e8\",\"column_count\":15,\"create_member\":\"1234567890\",\"create_member_name\":\"超级管理员\",\"create_time\":1707116591000,\"execute_smart_recommend\":0,\"favorite\":0,\"judgeApp\":0,\"last_modify_time\":1708310035000,\"mapping_flag\":0,\"maxIndex\":0,\"office_id\":\"private\",\"owner\":0,\"quality_mapping_flag\":0,\"records_count\":-1,\"rid\":0,\"schedule_count\":0,\"source_id\":\"dff366d2-1c97-78a5-8e84-f1f5c235cc53\",\"source_type\":0,\"sql_asset_flag\":0,\"structures\":[]},{\"assetVersion\":\"2.0\",\"asset_cata\":1,\"asset_id\":\"fe75c8a7-b52f-b118-8989-eaaac5cbe8c4\",\"asset_name\":\"评分任务进展\",\"asset_owner\":\"self\",\"asset_type\":102,\"association_count\":0,\"auth_type\":\"private\",\"catalog_id\":\"ab142af6-0a19-70b2-41ad-ba16638785e8\",\"column_count\":4,\"create_member\":\"1234567890\",\"create_member_name\":\"超级管理员\",\"create_time\":1707122365000,\"execute_smart_recommend\":0,\"favorite\":0,\"judgeApp\":0,\"last_modify_time\":1708308753000,\"mapping_flag\":0,\"maxIndex\":0,\"model_type\":\"modelCollection\",\"office_id\":\"private\",\"owner\":0,\"quality_mapping_flag\":0,\"records_count\":-1,\"rid\":0,\"schedule_count\":0,\"source_id\":\"dff366d2-1c97-78a5-8e84-f1f5c235cc53\",\"source_type\":0,\"sql_asset_flag\":0,\"structures\":[]},{\"assetVersion\":\"1.0\",\"asset_cata\":1,\"asset_id\":\"5402d0f4-701d-4b63-ad4e-bfa058e0f689\",\"asset_name\":\"zzzsss\",\"asset_owner\":\"self\",\"asset_type\":202,\"association_count\":0,\"auth_type\":\"private\",\"catalog_id\":\"default\",\"column_count\":2,\"create_member\":\"1234567890\",\"create_member_name\":\"超级管理员\",\"create_time\":1707126199000,\"execute_smart_recommend\":0,\"favorite\":0,\"judgeApp\":0,\"last_modify_time\":1707126199000,\"mapping_flag\":0,\"maxIndex\":0,\"office_id\":\"private\",\"owner\":0,\"quality_mapping_flag\":0,\"records_count\":28,\"rid\":0,\"schedule_count\":0,\"source_id\":\"cloudtable\",\"source_type\":0,\"sql_asset_flag\":0,\"structures\":[]},{\"assetVersion\":\"1.0\",\"asset_cata\":1,\"asset_id\":\"ba8311d0-8f65-44c9-bd0a-7603ac6f8417\",\"asset_name\":\"t_zppx_pingwei_bd\",\"asset_owner\":\"self\",\"asset_type\":102,\"association_count\":0,\"auth_type\":\"private\",\"catalog_id\":\"ab142af6-0a19-70b2-41ad-ba16638785e8\",\"column_count\":11,\"create_member\":\"1234567890\",\"create_member_name\":\"超级管理员\",\"create_time\":1707118987000,\"execute_smart_recommend\":0,\"favorite\":0,\"judgeApp\":0,\"last_modify_time\":1707119003000,\"mapping_flag\":0,\"maxIndex\":0,\"office_id\":\"private\",\"owner\":0,\"quality_mapping_flag\":0,\"records_count\":-1,\"rid\":0,\"schedule_count\":0,\"source_id\":\"dff366d2-1c97-78a5-8e84-f1f5c235cc53\",\"source_type\":0,\"sql_asset_flag\":0,\"structures\":[]},{\"assetVersion\":\"1.0\",\"asset_cata\":1,\"asset_id\":\"51ea8cdb-615c-4e6d-be59-e9f255234ec7\",\"asset_name\":\"日期资产\",\"asset_owner\":\"self\",\"asset_type\":202,\"association_count\":0,\"auth_type\":\"private\",\"catalog_id\":\"default\",\"column_count\":2,\"create_member\":\"1234567890\",\"create_member_name\":\"超级管理员\",\"create_time\":1707014314000,\"execute_smart_recommend\":0,\"favorite\":0,\"judgeApp\":0,\"last_modify_time\":1707014358000,\"mapping_flag\":0,\"maxIndex\":0,\"office_id\":\"private\",\"owner\":0,\"quality_mapping_flag\":0,\"records_count\":63,\"rid\":0,\"schedule_count\":0,\"source_id\":\"cloudtable\",\"source_type\":0,\"sql_asset_flag\":0,\"structures\":[]},{\"assetVersion\":\"1.0\",\"asset_cata\":1,\"asset_id\":\"e049d5b2-ed5f-e9d1-a725-ffc77438dd8d\",\"asset_name\":\"big\",\"asset_owner\":\"self\",\"asset_type\":102,\"association_count\":0,\"auth_type\":\"private\",\"catalog_id\":\"a26271ca-bc65-e999-d1ea-6e82e8727004\",\"column_count\":2,\"create_member\":\"1234567890\",\"create_member_name\":\"超级管理员\",\"create_time\":1706690826000,\"execute_smart_recommend\":0,\"favorite\":0,\"judgeApp\":0,\"last_modify_time\":1706690826000,\"mapping_flag\":0,\"maxIndex\":0,\"model_type\":\"modelCollection\",\"office_id\":\"private\",\"owner\":0,\"quality_mapping_flag\":0,\"records_count\":-1,\"rid\":0,\"schedule_count\":0,\"source_id\":\"85149fcf-247e-024b-92b3-4e3492f02a18\",\"source_type\":0,\"sql_asset_flag\":0,\"structures\":[]},{\"assetVersion\":\"1.0\",\"asset_cata\":1,\"asset_id\":\"16b834e9-e7c4-82f6-70c0-59cd40bc3106\",\"asset_name\":\"aaa\",\"asset_owner\":\"self\",\"asset_type\":300,\"association_count\":0,\"auth_type\":\"private\",\"catalog_id\":\"default\",\"column_count\":28,\"create_member\":\"1234567890\",\"create_member_name\":\"超级管理员\",\"create_time\":1706672794000,\"execute_smart_recommend\":0,\"favorite\":0,\"judgeApp\":0,\"last_modify_time\":1706673952000,\"mapping_flag\":0,\"maxIndex\":0,\"office_id\":\"private\",\"owner\":0,\"quality_mapping_flag\":0,\"records_count\":-1,\"rid\":0,\"schedule_count\":0,\"source_id\":\"1dafa700-b9fb-55d5-1e34-256263829d61\",\"source_type\":0,\"sql_asset_flag\":0,\"structures\":[]}]";


        Long fastjsonStart = System.currentTimeMillis();
        for (int i = 0; i < 100; i++) {
            JSONArray jsonObject = JSON.parseArray(jsonStr);
//            List<AssetDefinition> jsonObject = JSON.parseArray(jsonStr, AssetDefinition.class);
//            List<AssetDefinition> jsonObject = JSON.parseObject(jsonStr, new TypeReference<List<AssetDefinition>>() {});

//            JSONArray jsonObject = JSONObject.parseArray(jsonStr);
//            JSONObject jsonObject = JSONObject.parseObject(jsonStr);
//            List<Map<String, Object>> jsonObject = JSON.parseObject(jsonStr, new TypeReference<List<Map<String, Object>>>() {});
            JSON.toJSONString(jsonObject, SerializerFeature.DisableCircularReferenceDetect);

        }
        Long fastjsonEnd = System.currentTimeMillis();
        System.out.println("fastjson1 druid:" + (fastjsonEnd - fastjsonStart) + "ms");

    }

}
